<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>Trang quản lý</title>
<!-- Tell the browser to be responsive to screen width -->
<meta
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
	name="viewport" />
<!-- Bootstrap 3.3.6 -->
<link rel="stylesheet"
	href="/Assets/admin2/bootstrap/css/bootstrap.min.css" />
<!-- Font Awesome -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css" />
<!-- Ionicons -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" />
<!-- Theme style -->
<link rel="stylesheet" href="/Assets/admin2/dist/css/AdminLTE.min.css" />
<!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
<link rel="stylesheet"
	href="/Assets/admin2/dist/css/skins/_all-skins.min.css" />
<!-- bootstrap wysihtml5 - text editor -->
<link rel="stylesheet"
	href="/Assets/admin2/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css" />
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  
  <![endif]-->
<script src="/Assets/admin2/plugins/jQuery/jquery-2.2.3.min.js"></script>
<script src="/Assets/admin2/myproduct.js" type="text/javascript"></script>

<link rel="stylesheet" type="text/css"
	href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" />
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/buttons/1.3.1/css/buttons.bootstrap.min.css" />
<link rel="stylesheet" href="/Assets/admin/alert/sweetalert.css" />
<link href="/Assets/admin2/uploads/css/fileinput.css" rel="stylesheet" />
<script src="/Assets/admin2/uploads/js/fileinput.js"></script>
<style type="text/css">
.custom {
	font-style: italic;
	font-size: 15px;
	color: #468847;
	background-color: #dff0d8;
	border: 1px solid #d6e9c6;
	border-radius: 8px;
}
</style>
<script type="text/javascript" src="/Assets/admin2/thanh.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		$('#myDatatable').tableSearch({
			searchText : '',
			searchPlaceHolder : 'Tìm kiếm...'
		});
	});
</script>
</head>
<body class="hold-transition skin-blue sidebar-mini">
	<div class="wrapper">


		<div th:replace="_header2::menu"></div>

		<!-- Left side column. contains the logo and sidebar -->
		<aside th:replace="_main-sidebar2::main_sidebar2">
			


		</aside>



		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->


			<!-- Main content -->
			<section class="content">


				<div class="row">

					<!--      	thành viên-->
					<div class="col-md-12">
						<div class="box box-info">
							<div class="box-header with-border">
								<h3 class="box-title">Thành viên</h3>

								<div class="box-tools pull-right">
									
									<button type="button" class="btn btn-box-tool"
										data-widget="collapse">
										<i class="fa fa-minus"></i>
									</button>
									<button type="button" class="btn btn-box-tool"
										data-widget="remove">
										<i class="fa fa-times"></i>
									</button>
								</div>
							</div>
							<!-- /.box-header -->
						
							<div class="box-body no-padding" style="display: block;">
							
								<div class="col-md-12" >
							   <h1 style="text-align: right; margin-right:  " th:text="${khoa.tenkhoa}"> </h1>
							    <div class="form-group" >
							    <select  id="mabomon" class="form-control">
							    <th:block th:each="bomon: ${khoa.boMonList}">
							     <option th:text="${bomon.tenbomon}" th:value="${bomon.mabomon}" ></option>
							     </th:block>
							    </select>
							    </div>
							    </div>
							 <div class="form-group" >
							 
							 
							 
							    
<div class="col-md-12" >

<div class="col-md-4">
<div id="kv-avatar-errors-2" class="center-block" style="width:800px;display:none"></div>
<form class="text-center" id="avatar"  action="/upload/avatar" method="post" enctype="multipart/form-data">
    <div class="kv-avatar center-block" style="width:200px">
      
           <input id="file-fr" name="file[]" type="file" th:multiple="multiple"   class="file-loading" />
           
    </div>
    <!-- include other inputs if needed and include a form submit (save) button -->

</form >
<div class="col-md-12">


 
  <form   >
    
    <div class="form-group">
      <label>Mật khẩu </label>
     <input id="Vmatkhau" type="text"  class="form-control" placeholder=" Mật khẩu " />
    </div>

    
       

   
  </form>
</div> 

</div>

<div class="col-md-8">
  
  <form>
  <div class="form-group">
    <label for="exampleInputEmail1">Họ của bạn</label>
    <input type="text" class="form-control" id="hogv" placeholder="Tên của bạn" aria-describedby="emailHelp" />
   
  </div>

    <div class="form-group">
    <label for="exampleInputEmail1">Tên của bạn</label>
    <input type="text"  class="form-control" id="tengv" placeholder="Tên của bạn" aria-describedby="emailHelp" />
   
  </div>

   <div class="form-group">
    <label for="exampleInputEmail1">Ngày Sinh</label>
    <input type="date"   class="form-control" id="ngaysinh" placeholder="dd-mm-yyyy" aria-describedby="emailHelp" />
  </div>


  <div class="form-group">
    <label for="exampleInputPassword1">Email </label>
    <input  type="text" class="form-control" id="email" placeholder="Password"/>
  </div>

  <div class="form-group">
    <label for="exampleInputPassword1">Địa chỉ</label>
    <textarea cols="3"  class="form-control" id="diachi" ></textarea>
  </div>

  <div class="form-group">
    <label for="exampleInputPassword1">Số điện thoại</label>
   <input   type="number" class="form-control" id="dienthoai" placeholder="Số điện thoại"/>
  </div>
  <div class="form-group">
    <label for="exampleSelect1">Giới tính</label>
    <select  id="gioitinh" class="form-control" >
      <option value="true">Nam</option>
      <option value="false" >Nữ</option>
    </select>
  </div>
  <div  class="form-group">
    <p class="text-right">
       <button type="button"  id="capnhat" class="btn btn-success">Cập nhật</button>
    </p>
  </div>
  </form>

</div>
<!-- your server code `avatar_upload.php` will receive `$_FILES['avatar']` on form submission -->
 
<!-- the fileinput plugin initialization -->

  
<script th:inline="javascript" >
// <![CDATA[
    

var btnCust = '<button type="button" id="thanhpro" class="btn btn-default" title="Add picture tags" ' + 
    'onclick="alert(\'Call your custom code here.\')">' +
    '<i class="glyphicon glyphicon-tag"></i>' +
    '</button>'; 

    var img = '/UploadedFiles/default_avatar.jpg';
   
$("#file-fr").fileinput({
	uploadUrl: "/upload/avatar",
	overwriteInitial: true,
    maxFileSize: 1500,
    showClose: false,
    showCaption: false,
    showBrowse: false,
    browseOnZoneClick: true,
    removeLabel: '',
    removeIcon: '<i class="glyphicon glyphicon-remove"></i>',
    removeTitle: 'Cancel or reset changes',
    elErrorContainer: '#kv-avatar-errors-2',
    msgErrorClass: 'alert alert-block alert-danger',
    defaultPreviewContent: '<img src="'+img+'" alt="Your Avatar" style="width:160px"/><h6 class="text-muted">Chọn hình ảnh</h6>',
    layoutTemplates: {main2: '{preview} ' +  btnCust + ' {remove} {browse}'},
    allowedFileExtensions: ["jpg", "png", "gif"]
});

  $("#thanhpro").click(function(event) {
    /* Act on the event */
     alert($("#avatar img").attr("src"));
  });


     
</script>

    <script  th:inline="javascript">

   // <![CDATA[
  



  
   
  function GiangVienDao(
   magv  ,
 hogv ,
tengv ,
ngaysinh ,
email , 
 matkhau  ,
  anhgv  ,
   diachi  ,
    dienthoai ,
     gioitinh ,
     mabomon ) {
     this.magv  =magv ; 
 this.hogv = hogv ;
 this.tengv  =tengv ;
this.ngaysinh = ngaysinh ;
 this.email = email ; 
 this.matkhau  = matkhau ;
  this.anhgv  =anhgv ;
  this.diachi  = diachi ;
    this.dienthoai = dienthoai ;
     this.gioitinh  = gioitinh ;
     this.mabomon = mabomon ;
   
  }

                     $("#capnhat").click(function(event) {
                       /* Act on the event */
                          var gv = new  GiangVienDao() ;
                       if( gv.magv == null ){
                           gv.magv = -1 ;
                       }
                           gv.hogv = $("#hogv").val();
                           gv.tengv = $("#tengv").val();
                           gv.ngaysinh = $("#ngaysinh").val();
                           gv.email = $("#email").val() ;
                           gv.dienthoai = $("#dienthoai").val();
                           gv.gioitinh = false ;
                           gv.diachi = $("#diachi").val();
                           if($("#gioitinh").val() == 'true'){
                                   gv.gioitinh = true  ;
                           }
                           gv.anhgv = $("#avatar img").attr("src") ;
                          gv.matkhau =  $("#Vmatkhau").val() ;
                          gv.mabomon =  $("#mabomon").val();
                           
                           if( gv.hogv  != '' 
                              && gv.tengv != '' 
                              && gv.ngaysinh != ''
                              && gv.email != ''
                              && gv.dienthoai != ''
                              // && gv.gioitinh != ''
                              && gv.anhgv != ''){

                        $.ajax({
                        type: "POST",
                        contentType : 'application/json; charset=utf-8',
                        dataType : 'json',
                        url: "/them-giang-vien/save",
                        data: JSON.stringify(gv), // Note it is important
                        success :function(response) {
                         // do what ever you want with data
                            console.log(response);
                           if(response.magv == null) {
                           
                             alert("meo them dc");
                           }else{
                        	   gv.magv = response.magv ;
                             alert("them thanh cong ");
                             
                           }   
                         
                        
                       }
                    }).done(function() {
                          console.log("success");
                         })
                         .fail(function() {
                          console.log("error");
                         })
                         .always(function() {
                          console.log("complete");
                         });


                           console.log(gv);
                             }else{
                              alert('Không được bỏ trong ');
                             }
                        return false ;
                     });  
   
                 




         // ]]> 
    </script>

          
        </div>
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 </div>
							  
														</div>
							<!-- /.box-body -->
					
							<!-- /.box-footer -->
						</div>
					</div>
				</div>

				<!--      hết-->


			</section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->
		<footer  th:replace="footer"> </footer>


		<!-- Control Sidebar -->
		<!--  <aside class="control-sidebar control-sidebar-dark">
     Create the tabs 
 
  </aside>
    <script type="text/javascript">
     $(document).ready(function(){
    		$.get("includesPage/_aside.html" ,function( data ){
              $('.control-sidebar-dark').html(data);
    		});
    	});
    </script>-->
		<!-- /.control-sidebar -->
		<!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
		<div class="control-sidebar-bg"></div>
	</div>
	<!-- ./wrapper -->
		<!-- jQuery 2.2.3 -->
	<!---<script src="/Assets/admin2/plugins/jQuery/jquery-2.2.3.min.js"></script>-->
	<!-- jQuery UI 1.11.4 -->
	<script src="/Assets/admin2/plugins/jQueryUI/jquery-ui.js"></script>
	<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->

	<!-- Bootstrap 3.3.6 -->
	<script src="/Assets/admin2/bootstrap/js/bootstrap.min.js"></script>
	<!-- Morris.js charts -->

	<script src="/Assets/admin2/plugins/morris/morris.min.js"></script>
	<!-- Sparkline -->
	<script src="/Assets/admin2/plugins/sparkline/jquery.sparkline.min.js"></script>
	<!-- jQuery Knob Chart -->
	<script src="/Assets/admin2/plugins/knob/jquery.knob.js"></script>
	<!-- daterangepicker -->


	<!-- Bootstrap WYSIHTML5 -->
	<script
		src="/Assets/admin2/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
	<!-- Slimscroll -->
	<script
		src="/Assets/admin2/plugins/slimScroll/jquery.slimscroll.min.js"></script>
	<!-- FastClick -->
	<script src="/Assets/admin2/plugins/fastclick/fastclick.js"></script>
	<!-- AdminLTE App -->
	<script src="/Assets/admin2/dist/js/app.min.js"></script>
	<!-- AdminLTE for demo purposes -->
	<script src="/Assets/admin2/dist/js/demo.js"></script>
</body>
</html>
